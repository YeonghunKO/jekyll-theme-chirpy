<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="day-prompt" content="days ago"><meta name="hour-prompt" content="hours ago"><meta name="minute-prompt" content="minutes ago"><meta name="justnow-prompt" content="just now"><meta name="generator" content="Jekyll v4.2.1" /><meta property="og:title" content="당근게임 시작!" /><meta property="og:locale" content="en" /><meta name="description" content="1. 당근게임 시작!" /><meta property="og:description" content="1. 당근게임 시작!" /><link rel="canonical" href="https://yeonghunko.github.io/posts/carrot1/" /><meta property="og:url" content="https://yeonghunko.github.io/posts/carrot1/" /><meta property="og:site_name" content="노력도 재능이다." /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-02-22T00:00:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="당근게임 시작!" /><meta name="twitter:site" content="@twitter_username" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"description":"1. 당근게임 시작!","url":"https://yeonghunko.github.io/posts/carrot1/","@type":"BlogPosting","headline":"당근게임 시작!","dateModified":"2021-02-22T00:00:00+09:00","datePublished":"2021-02-22T00:00:00+09:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://yeonghunko.github.io/posts/carrot1/"},"@context":"https://schema.org"}</script><title>당근게임 시작! | 노력도 재능이다.</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="노력도 재능이다."><meta name="application-name" content="노력도 재능이다."><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end" lang="en"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/tourist.png" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">노력도 재능이다.</a></div><div class="site-subtitle font-italic">모든것을 흡수하려는 마음가짐</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <a href="https://github.com/YeonghunKO" aria-label="github" class="order-3" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/twitter_username" aria-label="twitter" class="order-4" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['yhko1988','gmail.com'].join('@')" aria-label="email" class="order-5" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" class="order-6" > <i class="fas fa-rss"></i> </a> <span class="icon-border order-2"></span> <span id="mode-toggle-wrapper" class="order-1"> <i class="mode-toggle fas fa-adjust"></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.updateMermaid(); }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer) ) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } updateMermaid() { if (typeof mermaid !== "undefined") { let expectedTheme = (this.modeStatus === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.updateMermaid(); } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>당근게임 시작!</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>당근게임 시작!</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> YeonghunKO </span> on <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Mon, Feb 22, 2021, 12:00 AM +0900" >Feb 22<i class="unloaded">2021-02-22T00:00:00+09:00</i> </span></div><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1312 words">7 min read</span></div></div><div class="post-content"><h1 id="1-당근게임-시작">1. 당근게임 시작!</h1><p>이 게임을 통해서 나는 또다시 한걸음, 아니 두세걸음 성장했다. 이 프로젝트는 겉으로 보기에 보잘것 없이 보이지만 내가 이 프로젝트를 하기 전과 후의 모습사이에 매우 상이한 차이가 존재한다. 우선 코드리뷰의 필요성을 절실히 느꼈고, 끈기와 겸손을 배웠다. 그외에 리팩토링하는 법, 그리고 로직을 구성하는 능력도 조금 오른것 같다. 맨 처음시작해서 완전히 완성되어 지금 이글을 쓰기까지 한달이라는 시간이 걸렸다.</p><p>한달간의 긴 여정동안 무엇을 배우고 느꼈는지 여기에 적어보려한다.</p><p>우선, 엘리님은 강의를 보기전에 본인 스스로 다 만들어볼것을 매우 권하셨다. 그래서 나혼자 만들기 시작했다. 우선 정적 웹페이지부터 구현하자.</p><div class="language-html highlighter-rouge"><div class="code-header"> <span text-data=" HTML "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
</pre><td class="rouge-code"><pre><span class="nt">&lt;head&gt;</span>
  <span class="nt">&lt;script
    </span><span class="na">src=</span><span class="s">"https://kit.fontawesome.com/579c4d8c64.js"</span>
    <span class="na">crossorigin=</span><span class="s">"anonymous"</span>
  <span class="nt">&gt;&lt;/script&gt;</span>
  <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"./src/main.js"</span> <span class="na">defer</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"background"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">"./img/background.png"</span> <span class="na">class=</span><span class="s">"bg_image"</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;section</span> <span class="na">class=</span><span class="s">"top_ui"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"play_button_div"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;audio</span> <span class="na">src=</span><span class="s">"./sound/calm.mp3"</span> <span class="na">id=</span><span class="s">"audio"</span><span class="nt">&gt;&lt;/audio&gt;</span>
      <span class="nt">&lt;button</span> <span class="na">class=</span><span class="s">"play_button"</span><span class="nt">&gt;&lt;i</span> <span class="na">class=</span><span class="s">"fas fa-play"</span><span class="nt">&gt;&lt;/i&gt;&lt;/button&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"time_display"</span><span class="nt">&gt;</span>00:00<span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"count"</span><span class="nt">&gt;</span>0<span class="nt">&lt;/span&gt;</span>
  <span class="nt">&lt;/section&gt;</span>

  <span class="nt">&lt;ul</span> <span class="na">class=</span><span class="s">"play_field"</span><span class="nt">&gt;&lt;/ul&gt;</span>

  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"popup non_display"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;button</span> <span class="na">class=</span><span class="s">"replay_btn"</span><span class="nt">&gt;&lt;i</span> <span class="na">class=</span><span class="s">"fas fa-reply-all"</span><span class="nt">&gt;&lt;/i&gt;&lt;/button&gt;</span>
    <span class="nt">&lt;span&gt;&lt;/span&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/body&gt;</span>
</pre></table></code></div></div><p>top_ui 안에 기본적으로 사용자가 컨트롤하고 확인하는 ui를 추가했다. 그리고 play_field를 만들어서 그 안에다가 icon이 display되도록 했다. 그리고 popup창을 non_display한다음 게임에서 졌을때 그리고 pause했을때 이 창이 뜨면서 사용자는 field안에 있는 아이콘을 클릭하지 못하게 했다.</p><p>또한, 아이콘을 받아오는 방법을 달리 해봤다. 다운받아서 파일에 넣은다음 src를 불러오는 local의 방식이 아닌, 아이콘을 외부에서 받아와서 바로 쓰는 방식으로 말이다.</p><p>fontawesome 이라는 웹사이트를 이용하면 된다. 자세한건 검색을 통해 쉽게 배울 수 있으니 굳이 여기에 서술하지는 않겠다.</p><h1 id="2-동적인-웹-구현하기-위한-로직-적어보기">2. 동적인 웹 구현하기 위한 로직 적어보기</h1><p>우선 로직을 글로 쉽게 정리해보자.</p><ul><li>top_ui 로직</ul><p class="notice--success"><strong>1.</strong> 플레이 버튼을 누르면 안에 innerHtml이 바뀌면서 타이머가 시작되고 노래가 나옴.</p><p class="notice--success"><strong>2.</strong> 그리고 ul안에 캐릭터가 출력.</p><p class="notice--success"><strong>3.</strong> count가 나타남.</p><ul><li>field 로직</ul><p class="notice--success"><strong>1.</strong> random 함수를 쓴다음 transform을 이용해서 그 값을 pass하면 아이콘의 위치가 무작위로 배치됨.</p><ul><li>성공했을경우</ul><p class="notice--success"><strong>1.</strong> 시간이 끝나기 전에 당근을 다 클릭했으면 시간 중지.</p><p class="notice--success"><strong>2.</strong> 재생버튼 없어짐.</p><p class="notice--success"><strong>3.</strong> 팝업창이 나타나면서 이겼다고 나옴.</p><p class="notice--success"><strong>4.</strong> 리플레이를 클릭하면 시작함수로 돌아감.</p><ul><li>실패했을경우</ul><p class="notice--success"><strong>1.</strong> 타이머가 멈춤.</p><p class="notice--success"><strong>2.</strong> 팝업창이 뜨면서 실패했다고 메세지가 바뀜.</p><p class="notice--success"><strong>3.</strong> 리플레이버튼을 누르면 시작함수로 돌아감.</p><p>✨설명팝업도 만들어보기. 니코 홈피보고 만들어보기. 에니메이션도 넣어가면서</p><h2 id="2-1-구현-시작시간이-1초씩-줄어드는-함수">2-1. 구현 시작!(시간이 1초씩 줄어드는 함수)</h2><p>만들면서 유난히 생각을 많이 하게한 함수만 설명하려고 한다.</p><div class="language-javascript highlighter-rouge"><div class="code-header"> <span text-data=" JavaScript "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
</pre><td class="rouge-code"><pre><span class="kd">let</span> <span class="nx">count</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">intervalId</span><span class="p">;</span>
<span class="kd">let</span> <span class="nx">playFromTheVeryStart</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">decreasingCount</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">count</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">audioBackground</span><span class="p">.</span><span class="nx">pause</span><span class="p">();</span>
    <span class="kd">const</span> <span class="nx">audioLose</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Audio</span><span class="p">(</span><span class="dl">"</span><span class="s2">./sound/game_lose.mp3</span><span class="dl">"</span><span class="p">);</span>
    <span class="nx">audioLose</span><span class="p">.</span><span class="nx">play</span><span class="p">();</span>
    <span class="nx">popUp</span><span class="p">.</span><span class="nx">classList</span><span class="p">.</span><span class="nx">remove</span><span class="p">(</span><span class="dl">"</span><span class="s2">non_display</span><span class="dl">"</span><span class="p">);</span>
    <span class="nx">playBtnDiv</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">visibility</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">hidden</span><span class="dl">"</span><span class="p">;</span>
    <span class="nx">clearInterval</span><span class="p">(</span><span class="nx">intervalId</span><span class="p">);</span>
    <span class="nx">gameResult</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="s2">`Time out..😅 Wanna play again?`</span><span class="p">;</span>
    <span class="nx">playFromTheVeryStart</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="k">return</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="kd">const</span> <span class="nx">timeDisplay</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="dl">"</span><span class="s2">.time_display</span><span class="dl">"</span><span class="p">);</span>
  <span class="nx">timeDisplay</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">count</span> <span class="o">&lt;</span><span class="nx">i</span> <span class="mi">10</span> <span class="p">?</span> <span class="s2">`00:0</span><span class="p">${</span><span class="nx">count</span><span class="p">}</span><span class="s2">`</span> <span class="p">:</span> <span class="s2">`00:</span><span class="p">${</span><span class="nx">count</span><span class="p">}</span><span class="s2">`</span><span class="p">;</span>
  <span class="o">--</span><span class="nx">count</span><span class="p">;</span>
  <span class="c1">// console.log(count);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">startAgain</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">clearInterval</span><span class="p">(</span><span class="nx">intervalId</span><span class="p">);</span>
  <span class="nx">intervalId</span> <span class="o">=</span> <span class="nx">setInterval</span><span class="p">(</span><span class="nx">decreasingCount</span><span class="p">,</span> <span class="mi">1000</span><span class="p">);</span>
<span class="p">}</span>
</pre></table></code></div></div><p>게임이 시작되면 시간함수가 초기화되고 다시 decreasingCount 함수가 1초마다 실행된다. 실행될때마다 카운트는 10에서 줄어들고, time에 표시된다. 카운트가 0이되면 게임이 종료된다.</p><h2 id="2-2-아이콘을-만들고-랜덤으로-배치하는-함수들">2-2. 아이콘을 만들고 랜덤으로 배치하는 함수들</h2><div class="language-javascript highlighter-rouge"><div class="code-header"> <span text-data=" JavaScript "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
</pre><td class="rouge-code"><pre><span class="kd">function</span> <span class="nx">getRandomCoor</span><span class="p">(</span><span class="nx">min</span><span class="p">,</span> <span class="nx">max</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">minV</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">ceil</span><span class="p">(</span><span class="nx">min</span><span class="p">);</span>
  <span class="kd">var</span> <span class="nx">maxV</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">max</span><span class="p">);</span>
  <span class="k">return</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span> <span class="o">*</span> <span class="p">(</span><span class="nx">maxV</span> <span class="o">-</span> <span class="nx">minV</span><span class="p">)</span> <span class="o">+</span> <span class="nx">minV</span><span class="p">;</span>
  <span class="c1">// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/random 참고</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">creatIcon</span><span class="p">(</span><span class="nx">iconName</span><span class="p">,</span> <span class="nx">iconPath</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">iconName</span><span class="p">.</span><span class="nx">src</span> <span class="o">=</span> <span class="s2">`./img/</span><span class="p">${</span><span class="nx">iconPath</span><span class="p">}</span><span class="s2">.png`</span><span class="p">;</span>
  <span class="nx">iconName</span><span class="p">.</span><span class="nx">classList</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="s2">`</span><span class="p">${</span><span class="nx">iconPath</span><span class="p">}</span><span class="s2">`</span><span class="p">);</span>
  <span class="nx">iconName</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="dl">"</span><span class="s2">click</span><span class="dl">"</span><span class="p">,</span> <span class="nx">onIconButton</span><span class="p">);</span>
  <span class="kd">const</span> <span class="nx">playCoor</span> <span class="o">=</span> <span class="nx">playField</span><span class="p">.</span><span class="nx">getBoundingClientRect</span><span class="p">();</span>
  <span class="kd">var</span> <span class="nx">translateX</span> <span class="o">=</span> <span class="nx">getRandomCoor</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">playCoor</span><span class="p">.</span><span class="nx">right</span><span class="p">);</span>
  <span class="kd">var</span> <span class="nx">translateY</span> <span class="o">=</span> <span class="nx">getRandomCoor</span><span class="p">(</span><span class="o">-</span><span class="mi">35</span><span class="p">,</span> <span class="nx">playCoor</span><span class="p">.</span><span class="nx">bottom</span> <span class="o">-</span> <span class="nx">playCoor</span><span class="p">.</span><span class="nx">top</span><span class="p">);</span>
  <span class="nx">iconName</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">transform</span> <span class="o">=</span> <span class="s2">`translate(</span><span class="p">${</span><span class="nx">translateX</span> <span class="o">-</span> <span class="mi">10</span><span class="p">}</span><span class="s2">px,</span><span class="p">${</span><span class="nx">translateY</span><span class="p">}</span><span class="s2">px)`</span><span class="p">;</span>
  <span class="k">return</span> <span class="nx">iconName</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">createCarrotIcon</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">imgCarrot</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Image</span><span class="p">();</span>
  <span class="kd">const</span> <span class="nx">carrotItems</span> <span class="o">=</span> <span class="nx">creatIcon</span><span class="p">(</span><span class="nx">imgCarrot</span><span class="p">,</span> <span class="dl">"</span><span class="s2">carrot</span><span class="dl">"</span><span class="p">);</span>
  <span class="k">return</span> <span class="nx">carrotItems</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">createBugIcon</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">imgBug</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Image</span><span class="p">();</span>
  <span class="kd">const</span> <span class="nx">bugItems</span> <span class="o">=</span> <span class="nx">creatIcon</span><span class="p">(</span><span class="nx">imgBug</span><span class="p">,</span> <span class="dl">"</span><span class="s2">bug</span><span class="dl">"</span><span class="p">);</span>
  <span class="k">return</span> <span class="nx">bugItems</span><span class="p">;</span>
<span class="p">}</span>
</pre></table></code></div></div><p>getRandomCoor에 들어가는 인자가 직관적이지 못하다. 그래도 일단 playfield 사이즈안에 아이템이 표시되도록 끼워맞췄다. 그리고 new Image를 creatIcon에 pass하여 하나씩 부품을 추가한 다음 완성된 부품을 리턴하는 방식으로 알고리즘을 짰다.</p><p>그럼 다음글에선 top_ui를 구현해보도록 하자.</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/javascript/'>Javascript</a>, <a href='/categories/carrot-game/'>carrot-game</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/getboundingclientrect/" class="post-tag no-text-decoration" >getBoundingClientRect</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=당근게임 시작! - 노력도 재능이다.&url=https://yeonghunko.github.io/posts/carrot1/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=당근게임 시작! - 노력도 재능이다.&u=https://yeonghunko.github.io/posts/carrot1/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=당근게임 시작! - 노력도 재능이다.&url=https://yeonghunko.github.io/posts/carrot1/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/clone4/">http://donicaida.com</a><li><a href="/posts/clone3/">https://paint-box.com 2</a><li><a href="/posts/clone2/">https://paint-box.com 1</a><li><a href="/posts/clone1/">https://besthorrorscenes.com - html 구조</a><li><a href="/posts/basic1/">flex 하게 소리질러!!</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/blogging/">blogging</a> <a class="post-tag" href="/tags/class/">class</a> <a class="post-tag" href="/tags/debugging/">debugging</a> <a class="post-tag" href="/tags/delegation/">delegation</a> <a class="post-tag" href="/tags/load/">load</a> <a class="post-tag" href="/tags/advanced-calulator/">advanced calulator</a> <a class="post-tag" href="/tags/api/">api</a> <a class="post-tag" href="/tags/article/">article</a> <a class="post-tag" href="/tags/async-await/">async/await</a> <a class="post-tag" href="/tags/beforeunload/">beforeunload</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/carrot4/"><div class="card-body"> <span class="timeago small" >Feb 24<i class="unloaded">2021-02-24T00:00:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>playField,finsishBanner 리팩토링</h3><div class="text-muted small"><p> 1. 함수하나당 하나의 기능만 수행 지금 기존의 함수를 보면은 displayAll에서 carrotcount가 들어가 있고 startGame 함수에서도 게임을 시작하는것 뿐만 아니라 일시중지, 다시시작하는 기능까지 들어있다. 또한 data.json을 이용해서 다량의 아이콘을 만들었는데 그럴필요없이 for문을 사용하면 된다. 참!! 본격적으로 리팩토링...</p></div></div></a></div><div class="card"> <a href="/posts/carrot5/"><div class="card-body"> <span class="timeago small" >Feb 24<i class="unloaded">2021-02-24T00:00:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>시작버튼 리팩토링(gameControl.js)</h3><div class="text-muted small"><p> 1. top_ui 리팩토링 gameControl.js 파일 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 ...</p></div></div></a></div><div class="card"> <a href="/posts/carrot6/"><div class="card-body"> <span class="timeago small" >Feb 24<i class="unloaded">2021-02-24T00:00:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>main.js에 게임 선언</h3><div class="text-muted small"><p> 1.main.js에 게임을 선언하기 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 "use strict"; import { Game, FinishReason, StopReason } from "./gam...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/miniProject6/" class="btn btn-outline-primary" prompt="Older"><p>007의 성능을 개선</p></a> <a href="/posts/carrot2/" class="btn btn-outline-primary" prompt="Newer"><p>주먹구구식으로 나름 혼자 구현해보기</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2021 <a href="https://twitter.com/username">YeonghunKO</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/blogging/">blogging</a> <a class="post-tag" href="/tags/class/">class</a> <a class="post-tag" href="/tags/debugging/">debugging</a> <a class="post-tag" href="/tags/delegation/">delegation</a> <a class="post-tag" href="/tags/load/">load</a> <a class="post-tag" href="/tags/advanced-calulator/">advanced calulator</a> <a class="post-tag" href="/tags/api/">api</a> <a class="post-tag" href="/tags/article/">article</a> <a class="post-tag" href="/tags/async-await/">async/await</a> <a class="post-tag" href="/tags/beforeunload/">beforeunload</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://YeonghunKO.github.io{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.16.1,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id="></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', ''); }); </script>
