<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="day-prompt" content="days ago"><meta name="hour-prompt" content="hours ago"><meta name="minute-prompt" content="minutes ago"><meta name="justnow-prompt" content="just now"><meta name="generator" content="Jekyll v4.2.1" /><meta property="og:title" content="export로 sound.js 리팩토링" /><meta property="og:locale" content="en" /><meta name="description" content="1. export하기" /><meta property="og:description" content="1. export하기" /><link rel="canonical" href="https://yeonghunko.github.io/posts/carrot3/" /><meta property="og:url" content="https://yeonghunko.github.io/posts/carrot3/" /><meta property="og:site_name" content="노력도 재능이다." /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-02-24T00:00:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="export로 sound.js 리팩토링" /><meta name="twitter:site" content="@twitter_username" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"description":"1. export하기","url":"https://yeonghunko.github.io/posts/carrot3/","@type":"BlogPosting","headline":"export로 sound.js 리팩토링","dateModified":"2021-02-24T00:00:00+09:00","datePublished":"2021-02-24T00:00:00+09:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://yeonghunko.github.io/posts/carrot3/"},"@context":"https://schema.org"}</script><title>export로 sound.js 리팩토링 | 노력도 재능이다.</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="노력도 재능이다."><meta name="application-name" content="노력도 재능이다."><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end" lang="en"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/tourist.png" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">노력도 재능이다.</a></div><div class="site-subtitle font-italic">모든것을 흡수하려는 마음가짐</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <a href="https://github.com/YeonghunKO" aria-label="github" class="order-3" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/twitter_username" aria-label="twitter" class="order-4" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['yhko1988','gmail.com'].join('@')" aria-label="email" class="order-5" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" class="order-6" > <i class="fas fa-rss"></i> </a> <span class="icon-border order-2"></span> <span id="mode-toggle-wrapper" class="order-1"> <i class="mode-toggle fas fa-adjust"></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.updateMermaid(); }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer) ) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } updateMermaid() { if (typeof mermaid !== "undefined") { let expectedTheme = (this.modeStatus === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.updateMermaid(); } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>export로 sound.js 리팩토링</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>export로 sound.js 리팩토링</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> YeonghunKO </span> on <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Wed, Feb 24, 2021, 12:00 AM +0900" >Feb 24<i class="unloaded">2021-02-24T00:00:00+09:00</i> </span></div><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1194 words">6 min read</span></div></div><div class="post-content"><h1 id="1-export하기">1. export하기</h1><p>일단 먼저 제일 쉬운거 부터 하는게 맞다. 탄력이 붙기 때문이다. 그래서 sound관련해서 모두 모아준다음에 export를 해서 불러오면 자유자재로 원할때마다 사용가능하다. 그럼 일단 export부터 알아보자.</p><p>예시로, 캐나다 달러를 미국달러로 환산하는 프로그램을 만들고 export하려고 한다. 그래서 currency-functions.js파일에 함수를 만들었다.</p><p>currency-functions.js</p><div class="language-javascript highlighter-rouge"><div class="code-header"> <span text-data=" JavaScript "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre><span class="kd">const</span> <span class="nx">exchangeRate</span> <span class="o">=</span> <span class="mf">0.91</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">roundTwoDecimals</span><span class="p">(</span><span class="nx">amount</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">round</span><span class="p">(</span><span class="nx">amount</span> <span class="o">*</span> <span class="mi">100</span><span class="p">)</span> <span class="o">/</span> <span class="mi">100</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">export</span> <span class="kd">function</span> <span class="nx">canadianToUs</span><span class="p">(</span><span class="nx">canadian</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">roundTwoDecimals</span><span class="p">(</span><span class="nx">canadian</span> <span class="o">*</span> <span class="nx">exchangeRate</span><span class="p">);</span>
<span class="p">}</span>
</pre></table></code></div></div><p>그리고 main.js에서 불러온다음 출력했다. 이때 main.js에 import하려면 html에서 script.type=’module’ 이라고 명시해줘야한다. 그래야 export한것을 import로 불러 올 수 있다.</p><div class="language-html highlighter-rouge"><div class="code-header"> <span text-data=" HTML "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"module"</span> <span class="na">src=</span><span class="s">"main.js"</span> <span class="na">defer</span><span class="nt">&gt;&lt;/script&gt;</span>
</pre></table></code></div></div><p>main.js</p><div class="language-javascript highlighter-rouge"><div class="code-header"> <span text-data=" JavaScript "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre><span class="dl">"</span><span class="s2">use strict</span><span class="dl">"</span><span class="p">;</span>
<span class="c1">// 내보내기 1</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">canadianToUs</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">./currency-functions.js</span><span class="dl">"</span><span class="p">;</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">50 Canadian dollars equal this amount of US dollars:</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">canadianToUs</span><span class="p">(</span><span class="mi">50</span><span class="p">));</span>
<span class="c1">// 50 Canadian dollars equal this amount of US dollars:</span>
<span class="c1">// 45.5</span>
</pre></table></code></div></div><p>이번엔 여러개를 보내보도록 하겠다.</p><div class="language-javascript highlighter-rouge"><div class="code-header"> <span text-data=" JavaScript "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre><td class="rouge-code"><pre><span class="kd">const</span> <span class="nx">UsToCanadian</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">us</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">roundTwoDecimals</span><span class="p">(</span><span class="nx">us</span> <span class="o">/</span> <span class="nx">exchangeRate</span><span class="p">);</span>
<span class="p">};</span>

<span class="kd">const</span> <span class="nx">cal</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">plus</span><span class="p">:</span> <span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">a</span> <span class="o">+</span> <span class="nx">b</span><span class="p">;</span>
  <span class="p">},</span>
  <span class="na">minus</span><span class="p">:</span> <span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">a</span> <span class="o">-</span> <span class="nx">b</span><span class="p">;</span>
  <span class="p">},</span>
  <span class="na">multiple</span><span class="p">:</span> <span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">a</span> <span class="o">*</span> <span class="nx">b</span><span class="p">;</span>
  <span class="p">},</span>
  <span class="na">divide</span><span class="p">:</span> <span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">a</span> <span class="o">/</span> <span class="nx">b</span><span class="p">;</span>
  <span class="p">},</span>
<span class="p">};</span>
<span class="k">export</span> <span class="p">{</span> <span class="nx">UsToCanadian</span><span class="p">,</span> <span class="nx">cal</span> <span class="p">};</span>
</pre></table></code></div></div><p>요런식으로 마지막에 export할것을 객체에 담아서 보내는 방법이 있다.</p><div class="language-javascript highlighter-rouge"><div class="code-header"> <span text-data=" JavaScript "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre><td class="rouge-code"><pre><span class="k">import</span> <span class="o">*</span> <span class="k">as</span> <span class="nx">skills</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">./currency-functions.js</span><span class="dl">"</span><span class="p">;</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">30 US dollars eqauls to this amount of Canadian dollars: </span><span class="dl">"</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">skills</span><span class="p">.</span><span class="nx">UsToCanadian</span><span class="p">(</span><span class="mi">30</span><span class="p">));</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">-----lets add nums using add func from calculation const-----</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">skills</span><span class="p">.</span><span class="nx">cal</span><span class="p">.</span><span class="nx">plus</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">));</span>
<span class="c1">// 30 US dollars eqauls to this amount of Canadian dollars:</span>
<span class="c1">// 32.97</span>

<span class="c1">// -----lets add nums using add func from calculation const-----</span>
<span class="c1">// 5</span>
</pre></table></code></div></div><p>불러올때는 모든것을 선택하는 선택자 <code class="language-plaintext highlighter-rouge">*</code>를 명시하고 as 뒤에 별명(skills)를 붙인다음 객체처럼 쓰면 됨.</p><h1 id="2-export2">2. export2</h1><p>요번에는 export default와 class를 보내는 방법에 대해서 살펴보자. 먼저 export default는 한번만 명시할 수 있다. 따라서 import 할때도 전송되는 변수나 객체의 이름을 그대로 쓸필요없이 아무 이름이나 적어도 된다.</p><p>default_self_intro.js</p><div class="language-javascript highlighter-rouge"><div class="code-header"> <span text-data=" JavaScript "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre><td class="rouge-code"><pre><span class="k">export</span> <span class="k">default</span> <span class="p">{</span>
  <span class="nx">selfIntroduction</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">job</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">`Hi my name is </span><span class="p">${</span><span class="nx">name</span><span class="p">}</span><span class="s2">, and i am </span><span class="p">${</span><span class="nx">job</span><span class="p">}</span><span class="s2">`</span><span class="p">);</span>
  <span class="p">},</span>
  <span class="na">askBack</span><span class="p">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">question</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">`what is your </span><span class="p">${</span><span class="nx">question</span><span class="p">}</span><span class="s2">?`</span><span class="p">);</span>
  <span class="p">},</span>
<span class="p">};</span>

<span class="k">export</span> <span class="kd">const</span> <span class="nx">randomNumBetween</span> <span class="o">=</span> <span class="p">(</span><span class="nx">max</span><span class="p">,</span> <span class="nx">min</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span> <span class="o">*</span> <span class="p">(</span><span class="nx">max</span> <span class="o">-</span> <span class="nx">min</span><span class="p">)</span> <span class="o">+</span> <span class="nx">min</span><span class="p">;</span>
<span class="p">};</span>
</pre></table></code></div></div><p>main.js</p><div class="language-javascript highlighter-rouge"><div class="code-header"> <span text-data=" JavaScript "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre><td class="rouge-code"><pre><span class="k">import</span> <span class="nx">selfIntro</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">./default_self_intro.js</span><span class="dl">"</span><span class="p">;</span>

<span class="nx">selfIntro</span><span class="p">.</span><span class="nx">selfIntroduction</span><span class="p">(</span><span class="dl">"</span><span class="s2">yeong</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">programmer</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">selfIntro</span><span class="p">.</span><span class="nx">askBack</span><span class="p">(</span><span class="dl">"</span><span class="s2">first language</span><span class="dl">"</span><span class="p">);</span>

<span class="k">import</span> <span class="p">{</span> <span class="nx">randomNumBetween</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">./default_self_intro.js</span><span class="dl">"</span><span class="p">;</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">randomNumBetween</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">100</span><span class="p">));</span>
<span class="c1">// Hi my name is yeong, and i am programmer</span>
<span class="c1">// what is your first language?</span>
<span class="c1">// 83.38011060756901</span>
</pre></table></code></div></div><p>이때 selfIntro라고 아무렇게나 이름붙이고 가져오면 default가 전송된다. 만약 그냥 export한 변수, randomNumBetween을 가져오고 싶으면 default가 아니기 때문에 이름을 정확히 명시해야한다.</p><p>이번엔 default로 클래스를 가져와보자</p><p>default_family_class_intro.js</p><div class="language-javascript highlighter-rouge"><div class="code-header"> <span text-data=" JavaScript "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre><td class="rouge-code"><pre><span class="k">export</span> <span class="k">default</span> <span class="kd">class</span> <span class="nx">familyIntro</span> <span class="p">{</span>
  <span class="kd">constructor</span><span class="p">(</span><span class="nx">yourName</span><span class="p">,</span> <span class="nx">parentsName</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">myName</span> <span class="o">=</span> <span class="nx">yourName</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">parents</span> <span class="o">=</span> <span class="nx">parentsName</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">familyDiv</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="dl">"</span><span class="s2">.family_new_func</span><span class="dl">"</span><span class="p">);</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">familyFuncDiv</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="dl">"</span><span class="s2">.family_fun_express</span><span class="dl">"</span><span class="p">);</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">familyDiv</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="dl">"</span><span class="s2">click</span><span class="dl">"</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">expressFamilyFunc</span><span class="p">();</span>
    <span class="p">});</span>
  <span class="p">}</span>

  <span class="nx">houseIntro</span><span class="p">(</span><span class="nx">address</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">houseAdress</span> <span class="o">=</span> <span class="nx">address</span><span class="p">;</span>
    <span class="k">return</span> <span class="s2">`</span><span class="p">${</span><span class="k">this</span><span class="p">.</span><span class="nx">parents</span><span class="p">}</span><span class="s2"> bought my house in </span><span class="p">${</span><span class="k">this</span><span class="p">.</span><span class="nx">houseAdress</span><span class="p">}</span><span class="s2"> `</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></table></code></div></div><div class="language-javascript highlighter-rouge"><div class="code-header"> <span text-data=" JavaScript "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="k">import</span> <span class="nx">familyIntro</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">./default_family_class_intro.js</span><span class="dl">"</span><span class="p">;</span>
<span class="kd">const</span> <span class="nx">family</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">familyIntro</span><span class="p">(</span><span class="dl">"</span><span class="s2">yeong</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">jongman</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">houseA</span> <span class="o">=</span> <span class="nx">family</span><span class="p">.</span><span class="nx">houseIntro</span><span class="p">(</span><span class="dl">"</span><span class="s2">ulsan</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">houseA</span><span class="p">);</span>
<span class="c1">// jongman bought my house in ulsan</span>
</pre></table></code></div></div><p>이런식으로 클래스를 불러와서 사용가능하다. 그럼 sound.js를 정리하고 export해보자</p><h1 id="3-sound-리팩토링">3. sound 리팩토링</h1><div class="language-javascript highlighter-rouge"><div class="code-header"> <span text-data=" JavaScript "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
</pre><td class="rouge-code"><pre><span class="dl">'</span><span class="s1">use strict</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">audioBackground</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Audio</span><span class="p">(</span><span class="dl">'</span><span class="s1">./sound/curious_kiddo.mp3</span><span class="dl">'</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">swooshSound</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Audio</span><span class="p">(</span><span class="dl">'</span><span class="s1">./sound/swoosh.mp3</span><span class="dl">'</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">blobSound</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Audio</span><span class="p">(</span><span class="dl">'</span><span class="s1">./sound/blop.mp3</span><span class="dl">'</span><span class="p">);</span>

<span class="k">export</span> <span class="kd">function</span> <span class="nx">playSwooshSound</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">playSound</span><span class="p">(</span><span class="nx">swooshSound</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">export</span> <span class="kd">function</span> <span class="nx">playBlobSound</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">playSound</span><span class="p">(</span><span class="nx">blobSound</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">export</span> <span class="kd">function</span> <span class="nx">playBgFromTheStart</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">audioBackground</span><span class="p">.</span><span class="nx">currentTime</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="nx">playSound</span><span class="p">(</span><span class="nx">audioBackground</span><span class="p">);</span>
<span class="p">}</span>
<span class="p">.</span>
<span class="p">.</span>
<span class="p">.</span>
<span class="kd">function</span> <span class="nx">playSound</span><span class="p">(</span><span class="nx">sound</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">sound</span><span class="p">.</span><span class="nx">play</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">stopSound</span><span class="p">(</span><span class="nx">sound</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">sound</span><span class="p">.</span><span class="nx">pause</span><span class="p">();</span>
<span class="p">}</span>
</pre></table></code></div></div><p>export하려는 function이 너무많아서 생략했다. 요런식으로 한곳에 다 모은다음 import해서 사용가능하다</p><div class="language-javascript highlighter-rouge"><div class="code-header"> <span text-data=" JavaScript "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="k">import</span> <span class="o">*</span> <span class="k">as</span> <span class="nx">sound</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">./sound.js</span><span class="dl">"</span><span class="p">;</span>
<span class="nx">sound</span><span class="p">.</span><span class="nx">playBgFromTheStart</span><span class="p">();</span>
</pre></table></code></div></div><p>export한 모든것을 *선택자로 묶은다음 sound라는 이름을 부여하여 객체처럼 사용가능. 따라서, 예를들어, 배경음악이 재생되야할곳에 위와 같이 사용하면된다.</p><p>그럼 다음에 리팩토링할것은 popup부분이다. 리팩토링 module을 나누는 기준은 html에서 설정하면 된다. html을 보면 구분되어지는 덩어리들이 보일것이다. 그 덩어리를 기준으로 삼아서 js파일을 만들고 그 안에 정리하면 된다. 보니깐</p><ol><li>top_ui<li>play_field<li>popup<li>toggle</ol><p>이렇게 구분지어서 리팩토링하면 될듯하다.</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/javascript/'>Javascript</a>, <a href='/categories/carrot-game/'>carrot-game</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/export/" class="post-tag no-text-decoration" >export</a> <a href="/tags/round/" class="post-tag no-text-decoration" >round</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=export로 sound.js 리팩토링 - 노력도 재능이다.&url=https://yeonghunko.github.io/posts/carrot3/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=export로 sound.js 리팩토링 - 노력도 재능이다.&u=https://yeonghunko.github.io/posts/carrot3/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=export로 sound.js 리팩토링 - 노력도 재능이다.&url=https://yeonghunko.github.io/posts/carrot3/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/clone4/">http://donicaida.com</a><li><a href="/posts/clone3/">https://paint-box.com 2</a><li><a href="/posts/clone2/">https://paint-box.com 1</a><li><a href="/posts/clone1/">https://besthorrorscenes.com - html 구조</a><li><a href="/posts/basic1/">flex 하게 소리질러!!</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/blogging/">blogging</a> <a class="post-tag" href="/tags/class/">class</a> <a class="post-tag" href="/tags/debugging/">debugging</a> <a class="post-tag" href="/tags/delegation/">delegation</a> <a class="post-tag" href="/tags/load/">load</a> <a class="post-tag" href="/tags/advanced-calulator/">advanced calulator</a> <a class="post-tag" href="/tags/api/">api</a> <a class="post-tag" href="/tags/article/">article</a> <a class="post-tag" href="/tags/async-await/">async/await</a> <a class="post-tag" href="/tags/beforeunload/">beforeunload</a></div></div></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/carrot4/"><div class="card-body"> <span class="timeago small" >Feb 24<i class="unloaded">2021-02-24T00:00:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>playField,finsishBanner 리팩토링</h3><div class="text-muted small"><p> 1. 함수하나당 하나의 기능만 수행 지금 기존의 함수를 보면은 displayAll에서 carrotcount가 들어가 있고 startGame 함수에서도 게임을 시작하는것 뿐만 아니라 일시중지, 다시시작하는 기능까지 들어있다. 또한 data.json을 이용해서 다량의 아이콘을 만들었는데 그럴필요없이 for문을 사용하면 된다. 참!! 본격적으로 리팩토링...</p></div></div></a></div><div class="card"> <a href="/posts/carrot5/"><div class="card-body"> <span class="timeago small" >Feb 24<i class="unloaded">2021-02-24T00:00:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>시작버튼 리팩토링(gameControl.js)</h3><div class="text-muted small"><p> 1. top_ui 리팩토링 gameControl.js 파일 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 ...</p></div></div></a></div><div class="card"> <a href="/posts/carrot6/"><div class="card-body"> <span class="timeago small" >Feb 24<i class="unloaded">2021-02-24T00:00:00+09:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>main.js에 게임 선언</h3><div class="text-muted small"><p> 1.main.js에 게임을 선언하기 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 "use strict"; import { Game, FinishReason, StopReason } from "./gam...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/carrot2/" class="btn btn-outline-primary" prompt="Older"><p>주먹구구식으로 나름 혼자 구현해보기</p></a> <a href="/posts/carrot4/" class="btn btn-outline-primary" prompt="Newer"><p>playField,finsishBanner 리팩토링</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2021 <a href="https://twitter.com/username">YeonghunKO</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/blogging/">blogging</a> <a class="post-tag" href="/tags/class/">class</a> <a class="post-tag" href="/tags/debugging/">debugging</a> <a class="post-tag" href="/tags/delegation/">delegation</a> <a class="post-tag" href="/tags/load/">load</a> <a class="post-tag" href="/tags/advanced-calulator/">advanced calulator</a> <a class="post-tag" href="/tags/api/">api</a> <a class="post-tag" href="/tags/article/">article</a> <a class="post-tag" href="/tags/async-await/">async/await</a> <a class="post-tag" href="/tags/beforeunload/">beforeunload</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://YeonghunKO.github.io{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.16.1,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id="></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', ''); }); </script>
